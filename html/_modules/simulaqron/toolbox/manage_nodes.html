
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>simulaqron.toolbox.manage_nodes &#8212; SimulaQron 3.0.15 documentation</title>
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">SimulaQron 3.0.15 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for simulaqron.toolbox.manage_nodes</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">closing</span>
<span class="kn">import</span> <span class="nn">socket</span>

<span class="kn">from</span> <span class="nn">simulaqron.toolbox</span> <span class="kn">import</span> <span class="n">get_simulaqron_path</span>
<span class="kn">from</span> <span class="nn">simulaqron.settings</span> <span class="kn">import</span> <span class="n">simulaqron_settings</span>


<span class="n">config_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">simulaqron_settings</span><span class="o">.</span><span class="n">app_file</span><span class="p">,</span> <span class="n">simulaqron_settings</span><span class="o">.</span><span class="n">cqc_file</span><span class="p">,</span> <span class="n">simulaqron_settings</span><span class="o">.</span><span class="n">vnode_file</span><span class="p">]</span>
<span class="n">node_config_file</span> <span class="o">=</span> <span class="n">simulaqron_settings</span><span class="o">.</span><span class="n">nodes_file</span>
<span class="n">simulaqron_path</span> <span class="o">=</span> <span class="n">get_simulaqron_path</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
<span class="n">config_folder</span> <span class="o">=</span> <span class="s2">&quot;config&quot;</span>
<span class="n">default_topology_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">simulaqron_path</span><span class="p">,</span> <span class="n">config_folder</span><span class="p">,</span> <span class="s2">&quot;topology.json&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="NetworksConfigConstructor"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor">[docs]</a><span class="k">class</span> <span class="nc">NetworksConfigConstructor</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Used to construct the config file of networks.abs</span>
<span class="sd">        When all nodes and networks are added the content of this object can</span>
<span class="sd">        be written to a file by calling the method &#39;write_to_file&#39;.</span>

<span class="sd">        :param file_path: None or str</span>
<span class="sd">            Path to the network config_file. If None an empty networkconfig constructor is initalized.</span>
<span class="sd">            Otherwise the content of the file is loaded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">used_sockets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="o">=</span> <span class="n">file_path</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">read_from_file</span><span class="p">()</span>

<div class="viewcode-block" id="NetworksConfigConstructor.add_node"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.add_node">[docs]</a>    <span class="k">def</span> <span class="nf">add_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_name</span><span class="p">,</span> <span class="n">network_name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">app_hostname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cqc_hostname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vnode_hostname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">app_port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cqc_port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vnode_port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">neighbors</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a node with the given name to a network (default: &quot;default&quot;).</span>
<span class="sd">        If hostnames are None they will default to &#39;localhost&#39;.</span>
<span class="sd">        If the port numbers None, unused ones will be chosen between 8000 and 9000.</span>
<span class="sd">        If neighbors are specified a restricted topology can be constructed (default is fully connected).</span>

<span class="sd">        :param node_name: str</span>
<span class="sd">            Name of the node, e.g. Alice</span>
<span class="sd">        :param network_name: str</span>
<span class="sd">            Name of the network (default: &quot;default&quot;)</span>
<span class="sd">        :param app_hostname: str or None</span>
<span class="sd">            Hostname, e.g. localhost (default) or 192.168.0.1</span>
<span class="sd">        :param cqc_hostname: str or None</span>
<span class="sd">            Hostname, e.g. localhost (default) or 192.168.0.1</span>
<span class="sd">        :param vnode_hostname: str or None</span>
<span class="sd">            Hostname, e.g. localhost (default) or 192.168.0.1</span>
<span class="sd">        :param app_port: int or None</span>
<span class="sd">            Port number for the application</span>
<span class="sd">        :param cqc_port: int or None</span>
<span class="sd">            Port number for the cqc server</span>
<span class="sd">        :param vnode_port: int or None</span>
<span class="sd">            Port number for the virtual node</span>
<span class="sd">        :param neighbors: (list of str) or None</span>
<span class="sd">            A list of neighbors, of this node.</span>
<span class="sd">            If None all current nodes in the network will be adjacent to the added node.</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">network_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        <span class="n">socket_addresses</span> <span class="o">=</span> <span class="p">[(</span><span class="n">app_hostname</span><span class="p">,</span> <span class="n">app_port</span><span class="p">),</span> <span class="p">(</span><span class="n">cqc_hostname</span><span class="p">,</span> <span class="n">cqc_port</span><span class="p">),</span> <span class="p">(</span><span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">vnode_port</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">socket_address</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">socket_addresses</span><span class="p">):</span>
            <span class="n">hostname</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">socket_address</span>
            <span class="k">if</span> <span class="n">hostname</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">hostname</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span>
            <span class="k">if</span> <span class="n">port</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_unused_port</span><span class="p">(</span><span class="n">hostname</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">free</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_port_available</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">free</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot add node </span><span class="si">{}</span><span class="s2">, since socket address (</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">) is already in use.&quot;</span>
                                     <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node_name</span><span class="p">,</span> <span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
            <span class="n">socket_address</span> <span class="o">=</span> <span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">used_sockets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">socket_address</span><span class="p">)</span>
            <span class="n">socket_addresses</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">socket_address</span>

        <span class="n">app_hostname</span><span class="p">,</span> <span class="n">app_port</span> <span class="o">=</span> <span class="n">socket_addresses</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">cqc_hostname</span><span class="p">,</span> <span class="n">cqc_port</span> <span class="o">=</span> <span class="n">socket_addresses</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">vnode_port</span> <span class="o">=</span> <span class="n">socket_addresses</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">[</span><span class="n">network_name</span><span class="p">]</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">node_name</span><span class="p">,</span> <span class="n">app_hostname</span><span class="o">=</span><span class="n">app_hostname</span><span class="p">,</span> <span class="n">cqc_hostname</span><span class="o">=</span><span class="n">cqc_hostname</span><span class="p">,</span>
                                                 <span class="n">vnode_hostname</span><span class="o">=</span><span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">app_port</span><span class="o">=</span><span class="n">app_port</span><span class="p">,</span> <span class="n">cqc_port</span><span class="o">=</span><span class="n">cqc_port</span><span class="p">,</span>
                                                 <span class="n">vnode_port</span><span class="o">=</span><span class="n">vnode_port</span><span class="p">,</span> <span class="n">neighbors</span><span class="o">=</span><span class="n">neighbors</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">network</span> <span class="o">=</span> <span class="n">_NetworkConfig</span><span class="p">()</span>
            <span class="n">network</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">node_name</span><span class="p">,</span> <span class="n">app_hostname</span><span class="o">=</span><span class="n">app_hostname</span><span class="p">,</span> <span class="n">cqc_hostname</span><span class="o">=</span><span class="n">cqc_hostname</span><span class="p">,</span>
                             <span class="n">vnode_hostname</span><span class="o">=</span><span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">app_port</span><span class="o">=</span><span class="n">app_port</span><span class="p">,</span> <span class="n">cqc_port</span><span class="o">=</span><span class="n">cqc_port</span><span class="p">,</span>
                             <span class="n">vnode_port</span><span class="o">=</span><span class="n">vnode_port</span><span class="p">,</span> <span class="n">neighbors</span><span class="o">=</span><span class="n">neighbors</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">[</span><span class="n">network_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">network</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.remove_node"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.remove_node">[docs]</a>    <span class="k">def</span> <span class="nf">remove_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_name</span><span class="p">,</span> <span class="n">network_name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a node from the network.</span>

<span class="sd">        :param node_name: str</span>
<span class="sd">            Name of the node, e.g. Alice</span>
<span class="sd">        :param network_name: str</span>
<span class="sd">            Name of the network (default: &quot;default&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">network_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">[</span><span class="n">network_name</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span>
            <span class="n">nodes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">node_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.reset"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resets the current object to a single network (&quot;default&quot;)</span>
<span class="sd">        with the nodes Alice, Bob, Charlie, David and Eve.</span>
<span class="sd">        Note that this does not overwrite any config file but can be done</span>
<span class="sd">        by calling &#39;write_to_file&#39;.</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">network_name</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_network</span><span class="p">(</span><span class="n">network_name</span><span class="o">=</span><span class="n">network_name</span><span class="p">)</span>
        <span class="n">node_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Charlie&quot;</span><span class="p">,</span> <span class="s2">&quot;David&quot;</span><span class="p">,</span> <span class="s2">&quot;Eve&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_network</span><span class="p">(</span><span class="n">node_names</span><span class="o">=</span><span class="n">node_names</span><span class="p">)</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.add_network"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.add_network">[docs]</a>    <span class="k">def</span> <span class="nf">add_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_names</span><span class="p">,</span> <span class="n">network_name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">topology</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a new network to the config, with some specified nodes.</span>

<span class="sd">        :param node_names: list of str</span>
<span class="sd">            Name of the nodes, e.g. [Alice, Bob]</span>
<span class="sd">        :param network_name: str</span>
<span class="sd">            Name of the network (default: &quot;default&quot;)</span>
<span class="sd">        :param topology: None or dict</span>
<span class="sd">            The topology of the network (optional) (default is fully connected)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">network_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_network</span><span class="p">(</span><span class="n">network_name</span><span class="o">=</span><span class="n">network_name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">node_name</span> <span class="ow">in</span> <span class="n">node_names</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">topology</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">neighbors</span> <span class="o">=</span> <span class="n">topology</span><span class="p">[</span><span class="n">node_name</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">neighbors</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node_name</span><span class="p">,</span> <span class="n">network_name</span><span class="o">=</span><span class="n">network_name</span><span class="p">,</span> <span class="n">neighbors</span><span class="o">=</span><span class="n">neighbors</span><span class="p">)</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.remove_network"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.remove_network">[docs]</a>    <span class="k">def</span> <span class="nf">remove_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network_name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a network from the config.</span>

<span class="sd">        :param network_name: str</span>
<span class="sd">            Name of the network (default: &quot;default&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">network_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.get_nodes"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.get_nodes">[docs]</a>    <span class="k">def</span> <span class="nf">get_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network_name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the node-config objects (_NodeConfig) in a network.</span>

<span class="sd">        :param network_name: str</span>
<span class="sd">            Name of the network (default: &quot;default&quot;)</span>
<span class="sd">        :return: list of _NodeConfig</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">network_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">[</span><span class="n">network_name</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is not a network in this config&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">network_name</span><span class="p">))</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.get_node_names"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.get_node_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network_name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the names of the nodes in a network.</span>

<span class="sd">        :param network_name: str</span>
<span class="sd">            Name of the network (default: &quot;default&quot;)</span>
<span class="sd">        :return: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">network_name</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        <span class="k">if</span> <span class="n">network_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">:</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">[</span><span class="n">network_name</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is not a network in this config&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">network_name</span><span class="p">))</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.to_dict"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a dictionary with all the content that can be written to a json file</span>
<span class="sd">        :return: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">network_name</span><span class="p">:</span> <span class="n">network</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">network_name</span><span class="p">,</span> <span class="n">network</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.write_to_file"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.write_to_file">[docs]</a>    <span class="k">def</span> <span class="nf">write_to_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes the content of this config to a file.</span>

<span class="sd">        :param file_path: None or str</span>
<span class="sd">            If a file_path was specified upon __init__ this will be used if file_path is None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span>
        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Since this networks config was not initialized with a file_path you need to specify one&quot;</span><span class="p">)</span>

        <span class="nb">dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span></div>

<div class="viewcode-block" id="NetworksConfigConstructor.read_from_file"><a class="viewcode-back" href="../../../simulaqron.toolbox.html#simulaqron.toolbox.manage_nodes.NetworksConfigConstructor.read_from_file">[docs]</a>    <span class="k">def</span> <span class="nf">read_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads config from a file.</span>

<span class="sd">        :param file_path: None or str</span>
<span class="sd">            If a file_path was specified upon __init__ this will be used if file_path is None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span>
        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Since this networks config was not initialized with a file_path you need to specify one&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="nb">dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No such file </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">network_name</span><span class="p">,</span> <span class="n">network_dict</span> <span class="ow">in</span> <span class="nb">dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">nodes_dict</span> <span class="o">=</span> <span class="n">network_dict</span><span class="p">[</span><span class="s2">&quot;nodes&quot;</span><span class="p">]</span>
            <span class="n">topology</span> <span class="o">=</span> <span class="n">network_dict</span><span class="p">[</span><span class="s2">&quot;topology&quot;</span><span class="p">]</span>
            <span class="n">network</span> <span class="o">=</span> <span class="n">_NetworkConfig</span><span class="p">()</span>
            <span class="n">network</span><span class="o">.</span><span class="n">topology</span> <span class="o">=</span> <span class="n">topology</span>

            <span class="k">for</span> <span class="n">node_name</span><span class="p">,</span> <span class="n">node_dict</span> <span class="ow">in</span> <span class="n">nodes_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">app_hostname</span><span class="p">,</span> <span class="n">app_port</span> <span class="o">=</span> <span class="n">node_dict</span><span class="p">[</span><span class="s2">&quot;app_socket&quot;</span><span class="p">]</span>
                <span class="n">cqc_hostname</span><span class="p">,</span> <span class="n">cqc_port</span> <span class="o">=</span> <span class="n">node_dict</span><span class="p">[</span><span class="s2">&quot;cqc_socket&quot;</span><span class="p">]</span>
                <span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">vnode_port</span> <span class="o">=</span> <span class="n">node_dict</span><span class="p">[</span><span class="s2">&quot;vnode_socket&quot;</span><span class="p">]</span>
                <span class="n">socket_addresses</span> <span class="o">=</span> <span class="p">[(</span><span class="n">app_hostname</span><span class="p">,</span> <span class="n">app_port</span><span class="p">),</span> <span class="p">(</span><span class="n">cqc_hostname</span><span class="p">,</span> <span class="n">cqc_port</span><span class="p">),</span> <span class="p">(</span><span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">vnode_port</span><span class="p">)]</span>
                <span class="k">for</span> <span class="n">socket_address</span> <span class="ow">in</span> <span class="n">socket_addresses</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">socket_address</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">used_sockets</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">used_sockets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">socket_address</span><span class="p">)</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">_NodeConfig</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">node_name</span><span class="p">,</span> <span class="n">app_hostname</span><span class="o">=</span><span class="n">app_hostname</span><span class="p">,</span> <span class="n">cqc_hostname</span><span class="o">=</span><span class="n">cqc_hostname</span><span class="p">,</span>
                                   <span class="n">vnode_hostname</span><span class="o">=</span><span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">app_port</span><span class="o">=</span><span class="n">app_port</span><span class="p">,</span> <span class="n">cqc_port</span><span class="o">=</span><span class="n">cqc_port</span><span class="p">,</span>
                                   <span class="n">vnode_port</span><span class="o">=</span><span class="n">vnode_port</span><span class="p">)</span>
                <span class="n">network</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">networks</span><span class="p">[</span><span class="n">network_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">network</span></div>

    <span class="k">def</span> <span class="nf">_get_unused_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an unused port in the interval 8000 to 9000, if such exists, otherwise returns None.</span>
<span class="sd">        :param hostname: str</span>
<span class="sd">            Hostname, e.g. localhost or 192.168.0.1</span>
<span class="sd">        :return: int or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8000</span><span class="p">,</span> <span class="mi">9001</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_port_available</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">_check_port_available</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the given port is not already set in the config files or used by some other process.</span>
<span class="sd">        :param hostname: str</span>
<span class="sd">            Hostname, e.g. localhost or 192.168.0.1</span>
<span class="sd">        :param port: int</span>
<span class="sd">            The port number</span>
<span class="sd">        :return: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">used_sockets</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_socket_is_free</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_check_socket_is_free</span><span class="p">(</span><span class="n">port</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a given socket on localhost is in use.</span>
<span class="sd">        This is done by trying to open the port and check if it succeeds.</span>
<span class="sd">        :param port: int</span>
<span class="sd">            The port number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">closing</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">))</span> <span class="k">as</span> <span class="n">sock</span><span class="p">:</span>
            <span class="n">address</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">sock</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">address</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span></div>


<span class="k">class</span> <span class="nc">_NetworkConfig</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Used by NetworksConfigConstructor to keep track of the config of a single network.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">topology</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">add_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">app_hostname</span><span class="p">,</span> <span class="n">cqc_hostname</span><span class="p">,</span> <span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">app_port</span><span class="p">,</span> <span class="n">cqc_port</span><span class="p">,</span> <span class="n">vnode_port</span><span class="p">,</span> <span class="n">neighbors</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a node with the given name to a network (default: &quot;default&quot;).</span>
<span class="sd">        If hostnames are None they will default to &#39;localhost&#39;.</span>
<span class="sd">        If the port numbers None, unused ones will be chosen between 8000 and 9000.</span>
<span class="sd">        If neighbors are specified a restricted topology can be constructed (default is fully connected).</span>

<span class="sd">        :param node_name: str</span>
<span class="sd">            Name of the node, e.g. Alice</span>
<span class="sd">        :param app_hostname: str or None</span>
<span class="sd">            Hostname, e.g. localhost (default) or 192.168.0.1</span>
<span class="sd">        :param cqc_hostname: str or None</span>
<span class="sd">            Hostname, e.g. localhost (default) or 192.168.0.1</span>
<span class="sd">        :param vnode_hostname: str or None</span>
<span class="sd">            Hostname, e.g. localhost (default) or 192.168.0.1</span>
<span class="sd">        :param app_port: int or None</span>
<span class="sd">            Port number for the application</span>
<span class="sd">        :param cqc_port: int or None</span>
<span class="sd">            Port number for the cqc server</span>
<span class="sd">        :param vnode_port: int or None</span>
<span class="sd">            Port number for the virtual node</span>
<span class="sd">        :param neighbors: (list of str) or None</span>
<span class="sd">            A list of neighbors, of this node.</span>
<span class="sd">            If None all current nodes in the network will be adjacent to the added node.</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">neighbors</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">topology</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># Assume that whatever nodes were there before are fully connnected</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">topology</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">node_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">node_name</span> <span class="ow">in</span> <span class="n">node_names</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">topology</span><span class="p">[</span><span class="n">node_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">neigh</span> <span class="k">for</span> <span class="n">neigh</span> <span class="ow">in</span> <span class="n">node_names</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">neigh</span> <span class="o">==</span> <span class="n">node_name</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">topology</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">neighbors</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">_NodeConfig</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">app_hostname</span><span class="o">=</span><span class="n">app_hostname</span><span class="p">,</span> <span class="n">cqc_hostname</span><span class="o">=</span><span class="n">cqc_hostname</span><span class="p">,</span>
                                       <span class="n">vnode_hostname</span><span class="o">=</span><span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">app_port</span><span class="o">=</span><span class="n">app_port</span><span class="p">,</span> <span class="n">cqc_port</span><span class="o">=</span><span class="n">cqc_port</span><span class="p">,</span>
                                       <span class="n">vnode_port</span><span class="o">=</span><span class="n">vnode_port</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a dictionary with all the config of this network.</span>
<span class="sd">        :return: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="p">{</span><span class="n">node_name</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">node_name</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;nodes&quot;</span><span class="p">:</span> <span class="n">nodes</span><span class="p">,</span> <span class="s2">&quot;topology&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">topology</span><span class="p">}</span>


<span class="k">class</span> <span class="nc">_NodeConfig</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">app_hostname</span><span class="p">,</span> <span class="n">cqc_hostname</span><span class="p">,</span> <span class="n">vnode_hostname</span><span class="p">,</span> <span class="n">app_port</span><span class="p">,</span> <span class="n">cqc_port</span><span class="p">,</span> <span class="n">vnode_port</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Used by _NetworkConfig to keep track of the config of a single node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_hostname</span> <span class="o">=</span> <span class="n">app_hostname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cqc_hostname</span> <span class="o">=</span> <span class="n">cqc_hostname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vnode_hostname</span> <span class="o">=</span> <span class="n">vnode_hostname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app_port</span> <span class="o">=</span> <span class="n">app_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cqc_port</span> <span class="o">=</span> <span class="n">cqc_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vnode_port</span> <span class="o">=</span> <span class="n">vnode_port</span>

    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a dictionary with all the config of this node.</span>
<span class="sd">        :return: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;app_socket&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">app_hostname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_port</span><span class="p">],</span>
            <span class="s2">&quot;cqc_socket&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cqc_hostname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cqc_port</span><span class="p">],</span>
            <span class="s2">&quot;vnode_socket&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">vnode_hostname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vnode_port</span><span class="p">]</span>
        <span class="p">}</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">SimulaQron 3.0.15 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Stephanie Wehner and Axel Dahlberg.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>